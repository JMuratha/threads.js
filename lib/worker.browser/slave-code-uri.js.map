{"version":3,"sources":["worker.browser/slave-code-uri.js"],"names":["slaveCodeDataUri","encodeURI","slaveCode","createBlobURL","window","createObjectURL","URL","webkitURL","Error","BlobBuilder","blobBuilder","append","getBlob","Blob","blob","type"],"mappings":";;;;AAAA;;;;;;AAEA,IAAIA,mBAAmB,wCAAwCC,UAAUC,mBAAV,CAA/D;AACA,IAAIC,gBAAgBC,OAAOD,aAAP,IAAwBC,OAAOC,eAAnD;;AAEA,IAAI,CAACF,aAAL,EAAoB;AAClB,MAAMG,MAAMF,OAAOE,GAAP,IAAcF,OAAOG,SAAjC;;AAEA,MAAID,GAAJ,EAAS;AACPH,oBAAgBG,IAAID,eAApB;AACD,GAFD,MAEO;AACL,UAAM,IAAIG,KAAJ,CAAU,wCAAV,CAAN;AACD;AACF;;AAED,IAAI,OAAOJ,OAAOK,WAAd,KAA8B,UAA9B,IAA4C,OAAON,aAAP,KAAyB,UAAzE,EAAqF;AACnF,MAAMO,cAAc,IAAIN,OAAOK,WAAX,EAApB;AACAC,cAAYC,MAAZ,CAAmBT,mBAAnB;AACAF,qBAAmBG,cAAcO,YAAYE,OAAZ,EAAd,CAAnB;AACD,CAJD,MAIO,IAAI,OAAOR,OAAOS,IAAd,KAAuB,UAAvB,IAAqC,OAAOV,aAAP,KAAyB,UAAlE,EAA8E;AACnF,MAAMW,OAAO,IAAIV,OAAOS,IAAX,CAAgB,CAAEX,mBAAF,CAAhB,EAA+B,EAAEa,MAAM,iBAAR,EAA/B,CAAb;AACAf,qBAAmBG,cAAcW,IAAd,CAAnB;AACD;;kBAEcd,gB","file":"slave-code-uri.js","sourcesContent":["import slaveCode from './slave-code';\r\n\r\nlet slaveCodeDataUri = 'data:text/javascript;charset=utf-8,' + encodeURI(slaveCode);\r\nlet createBlobURL = window.createBlobURL || window.createObjectURL;\r\n\r\nif (!createBlobURL) {\r\n  const URL = window.URL || window.webkitURL;\r\n\r\n  if (URL) {\r\n    createBlobURL = URL.createObjectURL;\r\n  } else {\r\n    throw new Error('No Blob creation implementation found.');\r\n  }\r\n}\r\n\r\nif (typeof window.BlobBuilder === 'function' && typeof createBlobURL === 'function') {\r\n  const blobBuilder = new window.BlobBuilder();\r\n  blobBuilder.append(slaveCode);\r\n  slaveCodeDataUri = createBlobURL(blobBuilder.getBlob());\r\n} else if (typeof window.Blob === 'function' && typeof createBlobURL === 'function') {\r\n  const blob = new window.Blob([ slaveCode ], { type: 'text/javascript' });\r\n  slaveCodeDataUri = createBlobURL(blob);\r\n}\r\n\r\nexport default slaveCodeDataUri;\r\n"]}